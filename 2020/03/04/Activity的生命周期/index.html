


<!DOCTYPE html>
<html lang="en,zh-CN,ja,default">
<head>
  <meta charset="UTF-8">
  <title>Activity的生命周期 [ hiaoyun-en ]</title>
  
  
    <!-- stylesheets list from _config.yml -->
    
      <!-- 引入 CSS -->
      <link rel="stylesheet" href="/css/noise.css">
    
      <!-- 引入 CSS -->
      <link rel="stylesheet" href="/lib/fontawesome-free-5.11.2-web/css/all.css">
    
      <!-- 引入 CSS -->
      <link rel="stylesheet" href="/lib/highlight/styles/atom-one-dark.css">
    
  
<meta name="generator" content="Hexo 4.2.0"></head>
<body>

<!-- 引入导航菜单 -->
 
<!-- 导航菜单 -->
<div id="menu-outer">
    <div id="menu-inner">
        
        <span id="menu-link-icon">
            <a href="/">Home</a>
        </span>
        
        <span id="menu-link-icon">
            <a href="/archives">Archives</a>
        </span>
        
        <span id="menu-link-icon">
            <a href="/about">About</a>
        </span>
        
    </div>
</div>
 

<div id="content-outer">
  <div id="content-inner">
     
<article id="post">
  <h1>Activity的生命周期</h1>
  <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>Activity的生命周期是Android中的基础。在用户使用App的过程中，Activity在各个状态中不停转换。</p>
<a id="more"></a>

<p><img src="https://developer.android.google.cn/guide/components/images/activity_lifecycle.png" alt=""></p>
<p>从<code>onCreate()</code>开始，中间经过一定的状态变换，直到<code>onDestroy()</code>结束，是Activity的一个完整的生命周期。</p>
<h3 id="onCreate"><a href="#onCreate" class="headerlink" title="onCreate()"></a>onCreate()</h3><p>在系统首次创建Activity时调用，Activity在<strong>创建后</strong>进入<strong>已创建</strong>状态。</p>
<p>通常在此方法中进行一些初始化工作。</p>
<h3 id="onStart"><a href="#onStart" class="headerlink" title="onStart()"></a>onStart()</h3><p>执行完<code>onCreate()</code>方法后，Activity进入<strong>已开始</strong>状态，开始执行<code>onStart()</code>。</p>
<p>此时Activity对用户可见。此方法一般会比较快完成。</p>
<h3 id="onResume"><a href="#onResume" class="headerlink" title="onResume()"></a>onResume()</h3><p>接下来就是<code>onResume()</code>，Activity处于<strong>已恢复</strong>状态，正在与用户进行交互。</p>
<p>应用会一直保持这种状态，直到某些事件发生，让焦点远离应用。此类事件包括接到来电、用户导航到另一个 Activity，或设备屏幕关闭。在这个状态可以使用要求生命周期组件可见，且需要在前台的功能，如调用摄像头。</p>
<p> 当发生中断事件时，Activity进入<strong>已暂停</strong>状态，系统调用 <code>onPause()</code> 回调。 </p>
<h3 id="onPause"><a href="#onPause" class="headerlink" title="onPause()"></a>onPause()</h3><p>此时Activity不再位于前台，进入<strong>已暂停</strong>状态。</p>
<p>此方法应该很简单，不应该在这里进行一些消耗资源的操作。</p>
<p>如果接下来Activity回到前台，会调用<code>onResume()</code>。</p>
<h3 id="onStop"><a href="#onStop" class="headerlink" title="onStop()"></a>onStop()</h3><p>此时Activity不再可见，进入<strong>已停止</strong>状态。</p>
<p> 在<code>onStop()</code>方法中，应用应释放或调整应用对用户不可见时的无用资源。例如，应用可以暂停动画效果，或从细粒度位置更新切换到粗粒度位置更新。 还应该使用<code>onStop()</code>执行 CPU 相对密集的关闭操作。 </p>
<h3 id="onDestroy"><a href="#onDestroy" class="headerlink" title="onDestroy()"></a>onDestroy()</h3><p>在销毁Activity之前，调用此方法。</p>
<p>有两种情况：</p>
<ol>
<li>用户将要结束Activity或系统调用<code>finish()</code>。<code>onDestroy()</code>将是最后一个生命周期回调；</li>
<li>配置发生改变。接着系统会立即新建Activity实例，调用其<code>onCreate()</code>。</li>
</ol>
<p>在<code>onDestroy()</code>时，应该进行一些释放资源的操作。</p>
<h3 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h3><p>当Activity处于同一个进程（应用）中，一个Activity A启动另一个Activity B时，会</p>
<ol>
<li>Activity A执行<code>onPause()</code>；</li>
<li>Activity B执行<code>onCreate()</code>、<code>onStart()</code>、<code>onResume()</code>；</li>
<li>Activity A如果完全不可见，将执行<code>onStop()</code>。</li>
</ol>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://developer.android.google.cn/guide/components/activities/activity-lifecycle" target="_blank" rel="noopener">了解Activity生命周期</a></p>
<p>待</p>
<p>2020-3-2 21:36</p>

</article>

<div id="paginator">
  
</div>

  </div>
</div>

<div id="bottom-outer">
    <div id="bottom-inner">
        Site by Aoyun using
        <a href="http://hexo.io" target="_blank" rel="noopener">hexo blog framework</a>.
        <br>
        <a href="/">Home</a>
    </div>
</div> 
<button class="back-to-top">↑</button>

<!-- 引入 JS -->
<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js"></script>

  <!-- scripts list from theme config.yml -->
  
    <script src="/js/noise.js"></script>
  
    <script src="/lib/highlight/highlight.pack.js"></script>
  


<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
